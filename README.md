# 气味王国各模块设备桌面版本 SDK

# BluetoothSDK

低功耗蓝牙模块SDK, 此SDK目前只适用于Win10系统

蓝牙协议使用至少4.0版本，5.0版本经过测试也可以，在Windows设备管理器中，可以看到蓝牙模块，并有
"Microsoft 蓝牙 LE 枚举器"或者有"LE"字样，说明支持低功耗

# ScentrealmbccNeckWearSDK

脖戴式产品SDK，无线通讯物理层。协议物理层为无线通信，频段为433M，芯片为CC1101

# ScentrealmVehicleModuleSDK

车载模块SDK

使用比较简单，引用SDK文件，导入示例代码，先连接设备，然后控制，最后不用时关闭连接断开
连接设备：DevLink()
播放气味：PlaySmell(int smellid, int durationtime)
停止播放：StopPlaySmell()
断开设备：DisConnect()

# ScentrealmVehicleModuleMergeSDK

归一化模块SDK

## 数据包结构

主机访问目标设备数据包结构为：

| 包头 | 1字节（0xf5） |
| --- | --- |
| 本机设备类型 | 1字节 |
| 本机设备地址 | 2字节 |
| 目标设备类型 | 1字节 |
| 目标设备地址 | 2字节 |
| 功能码 | 1字节 |
| 有效数据 | n字节 |
| 校验字 | 2字节 |
| 包尾 | 1字节（0x55） |

目标设备回应主机数据包结构为：

| 包头 | 1字节（0xf5） |
| --- | --- |
| 本机设备类型 | 1字节 |
| 本机设备地址 | 2字节 |
| 目标设备类型 | 1字节 |
| 目标设备地址 | 2字节 |
| 功能码（应答） | 1字节 |
| 有效数据 | n字节 |
| 校验字 | 2字节 |
| 包尾 | 1字节（0x55） |

> 通信协议采用**大端模式**，当数据大于1字节时，数据高位放在低地址中。对指定气味播放器进行访问和操作时，气味播放器需要回送响应数据包，表示已经成功收到数据并正确执行；当发送数据包的目标设备地址为广播地址（0xffff）时，气味播放器收到数据后不需要回送响应数据包。
>

**注意事项：** 文档上如果标志了弃用字样的方法，对接人员不用去使用测试，如果有需求请先咨询技术人员。
